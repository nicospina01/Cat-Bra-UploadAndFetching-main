<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Importación Masiva</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .level-0 { background-color: #f8d7da; } /* Color pastel para Departamento */
    .level-1 { background-color: #d1ecf1; } /* Color pastel para Subcategoría Nivel 1 */
    .level-2 { background-color: #d4edda; } /* Color pastel para Subcategoría Nivel 2 */
    .level-3 { background-color: #fff3cd; } /* Color pastel para Subcategoría Nivel 3 */
    /* Agrega más niveles si es necesario */
  </style>
</head>
<body>
  <div class="container mt-5">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="categories-tab" data-bs-toggle="tab" data-bs-target="#categories" type="button" role="tab" aria-controls="categories" aria-selected="true">Categorías</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="brands-tab" data-bs-toggle="tab" data-bs-target="#brands" type="button" role="tab" aria-controls="brands" aria-selected="false">Marcas</button>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="categories" role="tabpanel" aria-labelledby="categories-tab">
        <h1>Importación Masiva de Categorías</h1>
        <form action="/upload-categories" method="post" enctype="multipart/form-data">
          <div class="mb-3">
            <label for="categoryFile" class="form-label">Subir Plantilla de Categorías</label>
            <input class="form-control" type="file" id="categoryFile" name="categoryFile" required>
          </div>
          <button type="submit" class="btn btn-primary">Subir Categorías</button>
        </form>
        <hr>
        <a href="/template-categories" class="btn btn-success">Descargar Plantilla XLS</a>
        <a href="/download-categories" class="btn btn-secondary">Descargar Categorías en XLSX</a>
        <hr>
        <h2>Árbol de Categorías Actuales</h2>
        <button id="fetchCategories" class="btn btn-info">Revisar Árbol de Categorías Actuales</button>
        <div id="maxCategoryId" class="alert alert-warning mt-4"></div>
        <div id="categoryTree" class="mt-4"></div>
      </div>
      <div class="tab-pane fade" id="brands" role="tabpanel" aria-labelledby="brands-tab">
        <h1>Importación Masiva de Marcas</h1>
        <form action="/upload-brands" method="post" enctype="multipart/form-data">
          <div class="mb-3">
            <label for="brandFile" class="form-label">Subir Plantilla de Marcas</label>
            <input class="form-control" type="file" id="brandFile" name="brandFile" required>
          </div>
          <button type="submit" class="btn btn-primary">Subir Marcas</button>
        </form>
        <hr>
        <a href="/template-brands" class="btn btn-success">Descargar Plantilla XLS</a>
        <a href="/download-brands" class="btn btn-secondary">Descargar Marcas en XLSX</a>
        <hr>
        <h2>Listado de Marcas Actuales</h2>
        <button id="fetchBrands" class="btn btn-info">Revisar Listado de Marcas Actuales</button>
        <div id="brandList" class="mt-4"></div>
      </div>
    </div>
  </div>

  <!-- jQuery y Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="fetchCategories.js"></script>
  <script src="fetchBrands.js"></script>
</body>
</html>